<!DOCTYPE html>
<html>
	<head>
		<title>Q ⟩ Playground</title>
		<meta charset="utf-8">
		<meta name="viewport"             content="width=device-width,initial-scale=1.0">
		<meta name="description"          content="Quantum computing in your browser.">
		<meta name="copyright"            content="Stewart Smith 2019">
		<meta name="keywords"             content="
			Q, Q.js, Q-js, Qjs, quantum JavaScript,
			quantum, quantum physics, quantum mechanics, superposition,
			quantum computer, quantum computer programming, quantum computing, QC, 
			quantum simulator, quantum computer simulator, 
			qubit, qbit, gate, Hadamard, Bloch, Bloch Sphere,
			Web, Web site, website, Web browser, browser, HTML, HTML5, JavaScript, ES6, CSS,
			Chrome, Firefox, Safari, Opera, Brave, Edge, WebKit, Blink,
			Stewart Smith, Stewart, Stew, Stuart, Steven, Steve, Stewdio, stew_rtsmith, @stew_rtsmith,
			Moar, Moar Technologies Corp, MTC,
			Google, IBM, Microsoft, Amazon, NASA, DWave, D-Wave,
			Quil, OpenQASM,
				ProjectQ, Qiskit, 
				Quantum Development Kit, Cirq, Strawberry Fields, t|ket>,
				QCL, Quantum pseudocode, Q#, Q|SI>, Q language, qGCL, QFC, QML, LIQUi|>, Quipper,
			Stanford CS 269 Q: Quantum Computer Programming">
		
		<meta name="twitter:card"         content="summary_large_image">
		<meta name="twitter:site"         content="@stew_rtsmith">
		<meta name="twitter:creator"      content="@stew_rtsmith">
		<meta name="twitter:title"        content="Q ⟩ Playground">
		<meta name="twitter:description"  content="Quantum computing in your browser.">
		<meta name="twitter:image"        content="https://stewdio.github.io/q.js/other/q-thumbnail.png">
		
		<meta property="og:type"          content="website">
		<meta property="og:title"         content="Q ⟩ Playground">
		<meta property="og:description"   content="Quantum computing in your browser.">
		<meta property="og:image"         content="https://stewdio.github.io/q.js/other/q-thumbnail.png">
		<meta property="og:url"           content="https://stewdio.github.io/q.js/playground.html">
		
		<link rel="canonical" href="https://stewdio.github.io/q.js/playground.html">
		
		<script src="https://www.googletagmanager.com/gtag/js" async></script>
		<link  href="other/q-favicon-064.png" rel="icon" type="image/png">
		<link  href="other/q-favicon-144.png" rel="apple-touch-icon">
		<script src="other/ga.js"></script>
		<link  href="other/style.css" rel="stylesheet" type="text/css">
		
		<script src="source/Q.js"></script>
		<script src="source/Q.ComplexNumber.js"></script>
		<script src="source/Q.Matrix.js"></script>
		<script src="source/Q.Qubit.js"></script>
		<script src="source/Q.Gate.js"></script>
		<script src="source/Q.Circuit.js"></script>
		<script src="source/Q.Circuit.Editor.js"></script>
		<link  href="source/Q.Circuit.Editor.css" rel="stylesheet" type="text/css">

		<script src="other/navigation.js"></script>
		
	</head>
	<body>
		<main>


			<h3>Playground sketches</h3>
			<p>
				This is your behind-the-curtain look
				at interface ideas I’m just sketching out.
				While the code API already functions (browse the other pages!)
				you should play here at your own risk ;)
			</p>


			<h4>Bell state</h4>
			<p>
				Here’s a <a href="https://en.wikipedia.org/wiki/Bell_state" target="_blank">Bell state</a>
				(which produces <a href="https://en.wikipedia.org/wiki/Quantum_entanglement" target="_blank">quantum entanglement</a>), 
				but with 
				<a href="Gate.html#.PAULI_X">Pauli X</a>
				operations added to both registers as a finale—so
				the only two possible results are 
				<span class="complex-vector ket">00</span>
				and
				<span class="complex-vector ket">11</span>; all or nothing.
				Look how simple it was for me to create this in code:
				<!-- You can try this out <em>right now!</em>
				Just <a href="index.html#Open_your_JavaScript_console" target="_blank">open your browser’s JavaScript console</a>
				and paste this in:-->
			</p>
<pre><code>
var bell = Q`

	H C0 X
	I C1 X
`
</code></pre>
			<p>
				Now you can alter the circuit yourself 
				and thereby change the possible results.
				Drag and drop an operation from the palette (below) 
				on to the interactive circuit diagram (further below)
				to <em>copy</em> it in to the circuit.
				Drag operations within the circuit itself to <em>move</em> them.
				Just tapping on an operation toggles its selection.
				Multiple operations selected? You can drag them all at once!
				As you alter the circuit you’ll notice the probabilities report,
				ASCII diagram, and text representation of the circuit also update.
				<!-- Update from the console and you’ll also see these update. -->
			</p>
			<p>
				<strong>You cannot drag multi-register operations yet.</strong> 
				It’s coming.
				Check back soon!
				Better yet, join the movement and help me build it: 
				<a href="https://github.com/stewdio/q.js" target="_blank">https://github.com/stewdio/q.js</a>
			</p>
			<br>
			<p><code>Q.Circuit.createDomPalette()</code></p>
			<div class="qjs-circuit-palette"></div>
			<br>
			<p><code>bell.toDom()</code></p>
			<div id="bell-dom"></div>
			<br>
			<p><code>bell.report$()</code></p>
			<pre><samp id="bell-report"></samp></pre>
			<div id="bell-report-live" for="bell-dom"></div>
			<h5>Circuit as ASCII diagram</h5>
			<p>
				Yes—you can interact with these example circuits 
				right in your JavaScript console!
				These examples are right in the global scope so go poke around.
				You can generate the report above, the diagram below, and make edits directly to the circuit in code.
				<!-- Edit it via code in the JavaScript console,
				see the live updates right here! -->
			</p>
			<br>
			<p><code>bell.toDiagram()</code></p>
			<pre><samp id="bell-diagram"></samp></pre>
			<br>
			<p><code>bell.toText()</code></p>
			<pre><samp id="bell-text"></samp></pre>
			

			<h4>Whiplash</h4>
			<p>
				This monster demonstrates some
				overlapping mult-register operations
				and an  “upside-down CNOT” finale.
				Notice too how in the diagram version
				the boxes within each column (moment) are equal widths
				and there’s an attempt to center the text labels within their boxes.
				Also note how the overlapping connectors are dealt with, eh?
				Of course this circuit would make little sense in the real world.
				It’s here purely to test different aspects of rendering a circuit visually.
			</p>
			<p>
				Also—have you noticed that you can drag operations from one circuit to another?
				You’ll have to get creative with scrolling,
				but you can drag operations between here and the Bell state above ;)
			</p>
			<br>
			<p><code>Q.Circuit.createDomPalette()</code></p>
			<div class="qjs-circuit-palette"></div>
			<br>
			<p><code>whiplash.toDom()</code></p>
			<div id="whiplash-dom"></div>
			<br>
			<p><code>whiplash.report$()</code></p>
			<pre><samp id="whiplash-report"></samp></pre>
			<div id="whiplash-report-live" for="whiplash-dom"></div>
			<br>
			<p><code>whiplash.toDiagram()</code></p>
			<pre><samp id="whiplash-diagram"></samp></pre>
			<br>
			<p><code>whiplash.toText()</code></p>
			<pre><samp id="whiplash-text"></samp></pre>
			<!-- <h5>Report</h5> -->
			<!-- <pre><code id="whiplash-report"></code></pre> -->









<!--

<h4>Circuit</h4>
New<br>
Save<br>
Re-dimension (Add/remove qubit, add/remove moment)<br>

<h4>Edit</h4>
Cut<br>
Copy<br>
Paste<br>
Insert<br>
Undo<br>

<h4>[View clipboard]</h4>

-->














		</main>
		<script>




//  Here are the two circuits we’ll play with:

var bell = Q`

	H C0 X
	I C1 X
`
bell.name = 'bell'
bell.sort$()
bell.toDom( document.getElementById( 'bell-dom' ))


var whiplash = Q`

	H  C00  Y   Z   C1
	H  C10  C0  I   C0
	H  C01  Y   C0  S
	H  X    C1  C1  I
	H  C11  Y   Z   S
`
whiplash.name = 'whiplash'
whiplash.sort$()
whiplash.toDom( document.getElementById( 'whiplash-dom' ))




//  Let’s also place circuit palettes
//  inside anything with the class '.qjs-circuit-palette'.

Array.from( document.querySelectorAll( '.qjs-circuit-palette' )).forEach( function( el ){

	Q.Circuit.createDomPalette( el )
})




//  When our document loads
//  we want to display our ASCII diagrams, 
//  text representations, 
//  and probability reports.

function updateEverything( circuit ){

	document.getElementById( circuit.name +'-diagram' ).innerText = circuit.toDiagram( true )
	document.getElementById( circuit.name +'-text' ).innerText = circuit.toText()
	document.getElementById( circuit.name +'-report' ).innerText = circuit.report$()
}
window.addEventListener( 'DOMContentLoaded', function(){

	updateEverything( bell )
	updateEverything( whiplash )
})








//  EVALUATION.

window.addEventListener( 'qjs evaluate began', function( event ){

	console.log( 

		'\n\nBeginning evaluation for “'+ event.detail.circuit.name +'”\n'+
		event.detail.circuit.toDiagram() +'\n\n'
	)
})
window.addEventListener( 'qjs evaluate progressed', function( event ){

	const 
	length       = 20,
	percent      = Math.round( event.detail.progress * 100 ),
	percentText  = ( ''+ percent ).padStart( 3 ) +'%',
	barLength    = Math.round( length * event.detail.progress ),
	barComplete  = ''.padStart( barLength, '█' ),
	barRemaining = ''.padStart( length - barLength, '░' ),
	opsTotal     = event.detail.operationsTotal,
	opsCompleted = ( ''+ event.detail.operationsCompleted ).padStart( Math.log( opsTotal ) * Math.LOG10E + 1 | 0, ' ' )

	console.log( 

		barComplete  + 
		barRemaining +' '+ 
		percentText  +'   '+
		opsCompleted +' of '+
		opsTotal
	)

	
	//  What’s the actual state of the circuit at this moment?
	//  We should come back and do a cool animated version of this data :)

	const state = event.detail.state
	// console.log( 'state width', state.getWidth(), 'state height', state.getHeight() )
	// console.log( 'state', state.toTsv() )
})
window.addEventListener( 'qjs evaluate completed', function( event ){

	console.log( 

		'\nEvaluation completed for “'+ event.detail.circuit.name +'”'+
		'\nwith these results:\n'+ event.detail.circuit.report$() +'\n\n\n'
	)
	updateEverything( event.detail.circuit )
})




//  Going to give this a rethink...
//  Right now it does nothing.

window.addEventListener( 'qjs gui altered circuit', function( event ){

	event.detail.circuit.evaluate$()
})







		</script>
	</body>
</html>