/*

	Copyright © 2019–2020, Stewart Smith. See LICENSE for details.

*/
@charset "utf-8";




:root {

	--z-index-gate: 50;
	--z-index-gate-identity: 40;
}




/*


	Circuit	

	   Menu     Moments
	  ╭───────┬───┬───┬───┬───╮
	  │ ≡     │ 1 │ 2 │ 3 │ + │ Add moment
	  ├───┬───┼───┼───┼───┼───╯
	R │ 0 │|0⟩│ H │ C0│ X │ -
	e ├───┼───┼───┼───┼───┤
	g │ 1 │|0⟩│ I │ C1│ X │ -
	s ├───┼───┴───┴───┴───┘
      │ + │ -   -   -   -
	  ╰───╯
	    Add
	    register


	Circuit Palette

	╭───────────────────┬───╮
	│ H X Y Z S T π M … │ @ │
	╰───────────────────┴───╯


	Circuit clipboard

	 ┌───────────────┐
	▟│ ┌───┬───────┐ │
	█│ │ H │ X#0.0 │ │
	█│ ├───┼───────┤ │
	█│ │ I │ X#0.1 │ │
	█│ └───┴───────┘ │
	█└───────────────┘
	███████████████▛



    ◢◣
  ◢■■■■◣
◢■■■■■■■■◣
◥■■■■■■■■◤
  ◥■■■■◤
    ◥◤


    ◢■■■■■■◤
  ◢◤    ◢◤
◢■■■■■■◤


 ───────────
  ╲ ╱  ╱  ╱
   ╳  ╱  ╱
  ╱ ╲╱  ╱
 ───────


  ─────⦢
 ╱    ╱
⦣─────


*/


.qjs-circuit, 
.qjs-palette,
.qjs-circuit-clipboard {
	
	display: inline-block;
	position: relative;
	margin: 0.5rem 0;
	max-width: 100%;
	padding: 0;
	font-family: var( --font-family-sans );
	font-style: italic;
	color: var( --color-titanium );
	font-size:   1.0rem;
	line-height: 2.7rem;
}
.qjs-palette {

	min-height: 80px;
	border-radius: 0.5rem;	
	background-color: var( --color-chalk );
}
.qjs-circuit-clipboard {

	position: absolute;
	z-index: 200;
	min-width:  60px;
	min-height: 60px;
	cursor: grabbing;
	cursor: -webkit-grabbing; 
	cursor: -moz-grabbing;
}
.qjs-circuit svg {

	/*fill: var( --color-titanium );*/
}




    /***************/
   /*             */
  /*   Layers    */
 /*             */
/***************/


.qjs-circuit-layer {

	box-sizing: border-box;
	position: absolute;
	display: grid;	
	grid-auto-rows:    60px;
	grid-auto-columns: 60px;	
	top:  0;
	left: 0;
	width:  100%;
	height: 100%;
	text-align: center;
}
.qjs-palette .qjs-circuit-layer {

	display: block;
	position: relative;
	padding: 10px;
}
.qjs-palette .qjs-circuit-layer::after { 
  
	content: '';
	display: block; 
	clear: both;
}
.qjs-palette .qjs-circuit-operation {

	float: left;
}
.qjs-circuit-layer-wires,
.qjs-circuit-layer-background {

	position: relative;
}
.qjs-circuit-layer-background div.qjs-circuit-cell {

	padding: 0;
}
.qjs-circuit-layer-connections {

	top: 30px;
	height: calc( 100% - 30px );
	overflow: hidden;
}
.qjs-circuit-layer-connections div {

	width:  60px;
	height: auto;
}
.qjs-circuit-layer-connections svg {

	width:  100%;
	height: 100%;
}




    /*************/
   /*           */
  /*   Cells   */
 /*           */
/*************/


div.qjs-circuit-cell {

	box-sizing: border-box;
	width:   60px;
	height:  60px;
	padding: 10px;
	overflow: hidden;
}
.qjs-circuit-menu,
.qjs-circuit-moment,
.qjs-circuit-register {

	/*background-color: var( --color-chalk );*/
}
.qjs-circuit-menu  {
	
	grid-row: 1;
	grid-column-start: 1;
	grid-column-end:   3;
	min-height: 100%;
	min-width:  100%;
	border-top-left-radius: 1rem;
}
.qjs-circuit-moment {

	border-top-left-radius:  100%;
	border-top-right-radius: 100%;
	grid-row: 1;
	cursor: s-resize;
}
.qjs-circuit-register {

	border-top-left-radius:    100%;
	border-bottom-left-radius: 100%;
	grid-column: 1;
	cursor: e-resize;
}
.qjs-circuit-input {

	padding-left:  0;
	padding-right: 0;
	grid-column:   2;
	font-family: var( --font-family-mono );	
	font-weight: bold;
	font-size: 1.8rem;
}
#qjs-circuit-wire {

	fill: #EEE;
}
svg.qjs-circuit-wire {

	width:  60px;
	height: 60px;
}




    /******************/
   /*                */
  /*   Operations   */
 /*                */
/******************/


.qjs-circuit-operation {

	box-sizing: border-box;
	width:   60px;
	height:  60px;
	padding: 10px;	
	overflow: hidden;
	fill: #888;
	/*fill: var( --color-green );*/
}
.qjs-palette,
.qjs-circuit[qjs-circuit-mode="qjs-circuit-operation-move"] .qjs-circuit-operation {

	cursor: grab;
}
.qjs-circuit-operation:hover {

	/*background-color: #EEE;*/
	/*background-color: rgba( 0, 0, 0, 0.05 );*/
	/*box-shadow: -1px 2px 8px rgba( 0, 0, 0, 0.5 );*/
}


.qjs-circuit-operation svg {

	width:  40px;
	height: 40px;
}
.qjs-circuit-operation-identity {

	fill: #EEE;
	cursor: inherit;
}
#qjs-circuit-operation-hadamard {

	fill: var( --color-charcoal );
	/*fill: var( --color-red );*/
}
#qjs-circuit-operation-control,
#qjs-circuit-operation-target {

	fill: var( --color-charcoal );
	/*fill: var( --color-blue );*/
}
#qjs-circuit-control-straight,
#qjs-circuit-control-curved {

	fill: none;
	stroke: var( --color-charcoal );
	/*stroke: var( --color-blue );*/
	stroke-width: 2;
	stroke-miterlimit: 10;
}
.qjs-circuit-operation-label {

	fill: var( --color-white );
}




    /**************/
   /*            */
  /*   States   */
 /*            */
/**************/


.qjs-circuit-highlight {

	color: black;
}
.qjs-circuit-highlight .qjs-circuit-operation-identity {

	fill: #BBB;
}
.qjs-circuit-layer-background .qjs-circuit-highlight {

	background-color: rgba( 0, 0, 0, 0.03 );
}
.qjs-circuit-layer-background  {
/*
	border-top-left-radius:  100%;
	border-top-right-radius: 100%;*/
/*	border-top-left-radius:    100%;
	border-bottom-left-radius: 100%;*/
}




.qjs-circuit-register.qjs-circuit-highlight,
.qjs-circuit-input.qjs-circuit-highlight,
.qjs-circuit-moment.qjs-circuit-highlight,
.qjs-circuit-wire.qjs-circuit-highlight {

	/*background-color: var( --color-newsprint );*/
	/*background-color: var( --color-white );
	box-shadow: 1px 2px 6px rgba( 0, 0, 0, 0.5 );*/
}
.qjs-circuit-wire.qjs-circuit-highlight {

	/*fill: black;*/
	/*stroke: black;*/
}

/*.qjs-circuit-register.qjs-circuit-selected,
.qjs-circuit-input.qjs-circuit-selected,
.qjs-circuit-moment.qjs-circuit-selected,
.qjs-circuit-wire.qjs-circuit-selected 
*/
.qjs-selected {

	background-color: rgba( 0, 0, 0, 0.2 );
	background-color: var( --color-yellow );
}
.qjs-circuit-clipboard .qjs-circuit-operation-identity,
.qjs-selected.qjs-circuit-operation-identity {

	fill: #888;
}
.qjs-palette .qjs-circuit-operation-identity {

	fill: #BBB;
}






.qjs-circuit-text-input {

	/*min-width:  18rem;*/
	width: 100%;
	min-height: 12rem;
	/*margin:  1rem 0 2rem 0;*/
	margin:  1rem 0 0 0;
	border: 1px solid var( --color-blue );
	border-radius: 0.5rem;	
	background-color: var( --color-chalk );
	padding: 1rem 0 0 2rem;
	color: var( --color-blue );
	font-family: var( --font-family-mono );
	font-size:   1.0rem;
	line-height: 1.3rem;
	white-space: pre;
	word-wrap: normal;/*  OMFG, iOS you make me sad.  */

}
.qjs-button {

	border-radius: 0.5rem;
	background-color: var( --color-blue );
	color: var( --color-white );
	padding: 0.8rem 1.8rem;
	font-family: var( --font-family-sans );
	font-size:   1.2rem;
	line-height: 2.0rem;
	cursor: pointer;
}








